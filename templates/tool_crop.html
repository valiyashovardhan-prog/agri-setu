<!DOCTYPE html>
<html lang="en">
<head>
    <title>Smart Crop Planner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo"><i class="fas fa-seedling"></i> Crop Planner</div>
        <a href="{{ url_for('farmer_dashboard') }}" class="btn-secondary">
            <i class="fas fa-arrow-left"></i> Exit Tool
        </a>
    </nav>

    <div class="container" style="margin-top: 50px; max-width: 800px;">
        <div class="glass-panel">
            <h2 class="section-title">Field Parameters</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="input-group">
                    <label>Soil Type</label>
                    <select id="soil" style="width: 100%; padding: 15px;">
                        <option value="Black">Black Soil</option>
                        <option value="Red">Red Soil</option>
                        <option value="Alluvial">Alluvial Soil</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Water Availability</label>
                    <select id="water" style="width: 100%; padding: 15px;">
                        <option value="High">High (Canals/Borewell)</option>
                        <option value="Low">Low (Rainfed Only)</option>
                    </select>
                </div>
            </div>
            <button onclick="recommendCrop()" class="btn-submit" style="margin-top: 20px;">Generate Plan</button>
        </div>

        <div id="resultBox" style="display: none; margin-top: 30px;">
            <div class="glass-panel" style="border-top: 5px solid #10b981;">
                <h2><i class="fas fa-check-circle" style="color: #10b981;"></i> Top Recommendation: <span id="rec-name"></span></h2>
                <div style="display: flex; gap: 15px; margin-top: 15px;">
                    <span class="filter-pill" style="background: #ecfdf5; color: #064e3b;">‚è±Ô∏è <span id="rec-time"></span> Days</span>
                    <span class="filter-pill" style="background: #fffbeb; color: #d97706;">üí∞ Profit: <span id="rec-profit"></span></span>
                </div>
                <p style="margin-top: 15px; color: #666;" id="rec-desc"></p>
            </div>
        </div>
    </div>

    <script>
        function recommendCrop() {
            const soil = document.getElementById('soil').value;
            const water = document.getElementById('water').value;
            
            let name="Rice", time="120", profit="High", desc="";

            if (soil === 'Black' && water === 'High') { name="Cotton (Bt)"; time="150-160"; profit="Very High"; desc="Ideal for Black soil. Requires good pest management."; }
            else if (soil === 'Red' && water === 'Low') { name="Groundnut / Millets"; time="90-100"; profit="Medium"; desc="Drought resistant. Low input cost."; }
            else if (soil === 'Alluvial') { name="Wheat / Sugarcane"; time="120"; profit="High"; desc="Requires consistent irrigation."; }
            
            document.getElementById('rec-name').innerText = name;
            document.getElementById('rec-time').innerText = time;
            document.getElementById('rec-profit').innerText = profit;
            document.getElementById('rec-desc').innerText = desc;
            document.getElementById('resultBox').style.display = "block";
        }
    </script>

    <!-- GOOGLE TRANSLATE SCRIPT -->
    <div id="google_translate_element" style="display:none;"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({
            pageLanguage: 'en', 
            includedLanguages: 'en,hi,te,ta,mr,bn,kn', 
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
            autoDisplay: false
          }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>